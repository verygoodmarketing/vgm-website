---
import { Image } from 'astro:assets';

// Fetch the site configuration
import { siteConfigPromise } from '../lib/siteConfig';
const siteConfig = await siteConfigPromise;

const navItems = [
  { href: '/about', label: 'About' },
  { href: '/services', label: 'Services' },
  { href: '/contact', label: 'Contact' },
];
const currentYear = new Date().getFullYear();
---

<footer class="mt-auto border-t border-gray-100 px-4 py-8 sm:px-6 lg:px-8">
  <div class="mx-auto max-w-7xl">
    <div class="flex flex-col items-center justify-between md:flex-row">
      <a
        href="/"
        class="mb-8 text-xl font-bold text-gray-800 transition duration-300 hover:text-blue-600"
      >
        {
          siteConfig?.logo ? (
            <Image
              src={siteConfig.logo}
              alt={siteConfig?.siteName || 'Logo'}
              width={250}
              height={100}
            />
          ) : (
            <span class="text-xl font-bold">{siteConfig?.siteName || 'Logo'}</span>
          )
        }
      </a>

      <!-- Navigation -->
      <nav class="mb-4 md:mb-0">
        <ul class="flex flex-wrap justify-center space-x-6">
          {
            navItems.map((item) => (
              <li>
                <a
                  href={item.href}
                  class="text-gray-600 transition duration-300 hover:text-blue-600"
                >
                  {item.label}
                </a>
              </li>
            ))
          }
        </ul>
      </nav>
    </div>

    <!-- Copyright -->
    <div class="mt-8 text-center text-sm text-gray-500">
      <p>&copy; {currentYear} {siteConfig?.companyName}. All rights reserved.</p>
    </div>
  </div>
</footer>
