---
import MainLayout from '@/layouts/MainLayout.astro';
import { getEntry } from 'astro:content';

import CTA from '@/components/shared/CTA.astro';
import PageHeader from '@/components/shared/PageHeader.astro';
import Mission from '@/components/about/Mission.astro';
import Values from '@/components/about/Values.astro';
import Founders from '@/components/about/Founders.astro';

const page = await getEntry('pages', 'about');

if (!page) {
  throw new Error('Page not found');
}

const { Content } = await page.render();

const values = [
  {
    title: 'Transparency',
    description:
      'We believe in complete honesty about what marketing can and cannot do for your business.',
    icon: 'eye',
  },
  {
    title: 'Education',
    description:
      'We empower our clients with knowledge so they can make informed decisions about their marketing.',
    icon: 'book-open',
  },
  {
    title: 'Affordability',
    description:
      'We provide cost-effective solutions tailored specifically for small business budgets.',
    icon: 'piggy-bank',
  },
  {
    title: 'Results',
    description:
      'We focus on delivering measurable outcomes that directly impact your business growth.',
    icon: 'trending-up',
  },
];

// Extract all SEO properties from the content entry
const {
  title,
  description,
  canonicalUrl,
  ogImage,
  ogType,
  twitterCard,
  metaRobots,
  keywords,
  author,
  updatedDate,
  metadata,
} = page.data;
---

<MainLayout
  {title}
  {description}
  {canonicalUrl}
  {ogImage}
  {ogType}
  {twitterCard}
  {metaRobots}
  {keywords}
  {author}
>
  <PageHeader
    title="About Us"
    description="Founded in 2024 to bring transparency to small business marketing."
  />

  <Mission />

  <Values />

  <Founders />

  <CTA
    title="Want to learn more about our approach?"
    description="Schedule a call with our team to discuss how we can help your business."
    buttonText="Contact Us"
    buttonLink="/contact"
  />
</MainLayout>
